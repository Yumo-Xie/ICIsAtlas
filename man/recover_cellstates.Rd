% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/recover_cellstates.R
\name{recover_cellstates}
\alias{recover_cellstates}
\title{Recover cell‚Äêstates and FavTME from bulk expression}
\usage{
recover_cellstates(
  expr,
  expr_type = c("array", "counts", "FPKM", "TPM"),
  threads = 4,
  outdir = tempdir(),
  ecotyper_dir = "/data/morris/ICIsAtlas/inst/extdata/ecotyper"
)
}
\arguments{
\item{expr}{Numeric matrix or data.frame; genes in rows and samples in columns.}

\item{expr_type}{Character; one of \code{"array"}, \code{"counts"}, \code{"FPKM"}, or \code{"TPM"} (default: \code{"array"}).}

\item{threads}{Integer; number of parallel threads to use (default: \code{4}).}

\item{outdir}{Character; path to the output directory (default: \code{tempdir()}).}

\item{ecotyper_dir}{Character; path to the directory containing EcoTyper scripts.}
}
\value{
A \code{list} with components \code{FavTME} (favorability score) and
  \code{CellStates} (cell-state abundance table).
}
\description{
Runs the EcoTyper pipeline on a gene-by-sample expression matrix, returning both
cell-state abundances and a composite tumor-microenvironment favorability score.
}
\examples{
\dontrun{
data(example_mat, package = "ICIsAtlas")
res <- recover_cellstates(
  expr        = example_mat,
  expr_type   = "counts",
  threads     = 2
)
head(res$FavTME)
}
}
